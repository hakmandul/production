import{g as m,r as x,j as f,c as r,a as e,x as u,m as t,y,t as a,d as _,k as h,z as v,o as d}from"./DXtK5FLW.js";import{u as w}from"./NtxLkuh5.js";const k={class:"py-12 px-4 sm:px-6 lg:px-8"},j={class:"max-w-md mx-auto"},C={key:0,class:"bg-white p-8 rounded-xl shadow w-full animate-pulse"},N={key:1,class:"bg-red-50 p-6 rounded-xl border border-red-200 text-center"},O={class:"text-sm text-red-800 mb-4"},V={key:2,class:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden"},A={class:"relative px-6 pb-6"},B={class:"relative -mt-12 mb-4 flex justify-center"},S={class:"p-1 bg-white rounded-full"},D=["src"],L={key:1,class:"w-24 h-24 rounded-full bg-gray-100 flex items-center justify-center text-gray-400 text-3xl font-bold border border-gray-200"},T={class:"text-center mb-6"},U={class:"text-2xl font-bold text-gray-900"},z={class:"text-sm text-gray-500"},E={class:"bg-gray-50 rounded-lg p-3 mb-6 flex justify-between items-center text-xs text-gray-500"},F={class:"font-mono bg-white px-2 py-1 rounded border border-gray-200 select-all"},I={class:"space-y-3"},W=["disabled"],$={key:0,class:"w-4 h-4 border-2 border-red-600 border-t-transparent rounded-full animate-spin"},K=m({__name:"profile",async setup(q){let i,l;const n=x(!1),{data:o,status:b,error:c,refresh:p}=([i,l]=f(()=>w("https://gocyxapik.pp.ua/api/me",{headers:void 0,key:"user-profile"},"$-6sbaO0toW")),i=await i,l(),i),g=async()=>{n.value=!0,await h.signOut({fetchOptions:{onSuccess:()=>{v("/login")}}})};return(G,s)=>(d(),r("div",k,[e("div",j,[t(b)==="pending"?(d(),r("div",C,[...s[1]||(s[1]=[y('<div class="flex justify-center mb-6"><div class="w-24 h-24 bg-gray-200 rounded-full"></div></div><div class="space-y-4"><div class="h-4 bg-gray-200 rounded w-1/3 mx-auto"></div><div class="h-6 bg-gray-200 rounded w-1/2 mx-auto"></div></div>',2)])])):t(c)?(d(),r("div",N,[s[2]||(s[2]=e("h2",{class:"text-lg font-bold text-red-600 mb-2"},"Не удалось загрузить профиль",-1)),e("p",O,a(t(c).message),1),e("button",{onClick:s[0]||(s[0]=()=>t(p)()),class:"px-4 py-2 bg-white border border-red-300 rounded-lg text-red-600 hover:bg-red-50 transition"}," Повторить ")])):t(o)?.user?(d(),r("div",V,[s[5]||(s[5]=e("div",{class:"relative h-32 bg-gradient-to-r from-blue-500 to-indigo-600"},null,-1)),e("div",A,[e("div",B,[e("div",S,[t(o).user.image?(d(),r("img",{key:0,src:t(o).user.image,alt:"Avatar",class:"w-24 h-24 rounded-full object-cover border border-gray-200"},null,8,D)):(d(),r("div",L,a(t(o).user.name?.charAt(0)?.toUpperCase()??"U"),1))])]),e("div",T,[e("h1",U,a(t(o).user.name),1),e("p",z,a(t(o).user.email),1),s[3]||(s[3]=e("span",{class:"mt-2 inline-block px-2 py-1 text-xs font-medium bg-blue-50 text-blue-700 rounded-full"}," Пользователь ",-1))]),e("div",E,[s[4]||(s[4]=e("span",null,"ID Аккаунта:",-1)),e("span",F,a(t(o).user.id),1)]),e("div",I,[e("button",{onClick:g,disabled:t(n),class:"w-full py-2.5 px-4 bg-red-50 text-red-600 font-medium rounded-lg hover:bg-red-100 transition flex justify-center items-center gap-2 disabled:opacity-50"},[t(n)?(d(),r("span",$)):u("",!0),_(" "+a(t(n)?"Выход...":"Выйти"),1)],8,W)])])])):u("",!0)])]))}});export{K as default};

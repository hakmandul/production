import{_ as p}from"./DCgj6A2k.js";import{a as c}from"./zU7EdV5K.js";import{g as h,j as b,k as y,c as a,o as n,a as t,l as o,t as i,b as u,w as x,d as _}from"./D_BRWKWC.js";import{u as f}from"./BaifTkG4.js";const v={class:"min-h-screen bg-gray-50 p-8"},w={class:"max-w-4xl mx-auto"},k={key:0,class:"bg-white rounded-lg shadow-md p-6"},C={class:"flex items-center space-x-4"},N={key:0,class:"shrink-0"},j=["src"],A={key:1,class:"h-16 w-16 rounded-full bg-blue-500 flex items-center justify-center text-white text-xl font-bold"},B={class:"text-2xl font-bold text-gray-900"},S={class:"text-gray-500"},V={class:"mt-8 border-t pt-6"},D={class:"bg-gray-800 text-green-400 p-4 rounded text-sm overflow-x-auto"},L={key:1,class:"text-center py-20"},O={class:"space-x-4"},z=h({__name:"index",async setup(E){let r,l;const{data:s}=([r,l]=b(()=>c.useSession(f)),r=await r,l(),r),g=y(),m=async()=>{await c.signOut({fetchOptions:{onSuccess:()=>{g.push("/login")}}})};return(F,e)=>{const d=p;return n(),a("div",v,[t("div",w,[o(s)?(n(),a("div",k,[t("div",C,[o(s).user.image?(n(),a("div",N,[t("img",{src:o(s).user.image,class:"h-16 w-16 rounded-full object-cover",alt:"Avatar"},null,8,j)])):(n(),a("div",A,i(o(s).user.name.charAt(0).toUpperCase()),1)),t("div",null,[t("h1",B,"Привет, "+i(o(s).user.name)+"!",1),t("p",S,i(o(s).user.email),1)])]),t("div",V,[e[0]||(e[0]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Данные сессии (Debug):",-1)),t("pre",D,i(o(s)),1)]),t("div",{class:"mt-6"},[t("button",{onClick:m,class:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition"}," Выйти ")])])):(n(),a("div",L,[e[3]||(e[3]=t("h1",{class:"text-3xl font-bold text-gray-900 mb-4"},"Добро пожаловать",-1)),e[4]||(e[4]=t("p",{class:"text-gray-600 mb-8"},"Для доступа к контенту необходимо авторизоваться.",-1)),t("div",O,[u(d,{to:"/login",class:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700"},{default:x(()=>[...e[1]||(e[1]=[_(" Войти ",-1)])]),_:1}),u(d,{to:"/register",class:"px-6 py-3 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50"},{default:x(()=>[...e[2]||(e[2]=[_(" Регистрация ",-1)])]),_:1})])]))])])}}});export{z as default};
